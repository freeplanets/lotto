import mariadb from "mariadb";
import {IBTItem} from "../DataSchema/if";
const jstr = '{"ErrNo":0,"gameLists":[{"id":"1","name":"六合彩"},{"id":"2","name":"中國體彩"},{"id":"3","name":"中國福彩"},{"id":"4","name":"七星彩"},{"id":"5","name":"廣西快樂 10分"},{"id":"6","name":"上海時時樂"},{"id":"7","name":"舊重慶時時彩"},{"id":"8","name":"天津时时彩"},{"id":"9","name":null},{"id":"10","name":null},{"id":"11","name":"新疆時時彩"},{"id":"12","name":"廣東快樂10分"},{"id":"13","name":"天津快樂10分"},{"id":"14","name":"重慶幸運農場"},{"id":"15","name":"山東11選5"},{"id":"16","name":"重慶11選5"},{"id":"17","name":"江西11選5"},{"id":"18","name":"廣東11選5"},{"id":"19","name":"重慶時時彩"},{"id":"20","name":"北京賽車"},{"id":"21","name":"江蘇骰寶"},{"id":"22","name":"快樂 8"},{"id":"23","name":"大眾賽車"},{"id":"24","name":"大眾時時彩"},{"id":"25","name":"大眾快樂10分"},{"id":"26","name":"大眾3D"},{"id":"27","name":"大眾六合彩"},{"id":"28","name":"大眾快3"},{"id":"29","name":"大眾快樂8"},{"id":"30","name":"台灣賓果"},{"id":"31","name":"越南彩北部"},{"id":"32","name":"越南彩南部18A"},{"id":"33","name":"越南彩南部18B"},{"id":"34","name":"越南彩南部18C"},{"id":"35","name":"越南彩南部18A+B"}],"btLists":[{"id":1,"name":"特碼A","isParlay":0},{"id":28,"name":"特碼B","isParlay":0},{"id":2,"name":"特碼單雙","isParlay":0},{"id":3,"name":"特碼大小","isParlay":0},{"id":74,"name":"特碼尾大小","isParlay":0},{"id":4,"name":"正碼","isParlay":0},{"id":5,"name":"總和單雙","isParlay":0},{"id":6,"name":"總和大小","isParlay":0},{"id":7,"name":"三全中","isParlay":1},{"id":8,"name":"三中二 I","isParlay":1},{"id":72,"name":"三中二 II","isParlay":1},{"id":9,"name":"二全中","isParlay":1},{"id":10,"name":"二中特 I","isParlay":1},{"id":73,"name":"二中特 II","isParlay":1},{"id":71,"name":"四中一","isParlay":1},{"id":11,"name":"特串","isParlay":1},{"id":12,"name":"正碼1-6單雙","isParlay":0},{"id":13,"name":"正碼1-6大小","isParlay":0},{"id":14,"name":"正碼1-6色波","isParlay":0},{"id":15,"name":"正碼過關","isParlay":0},{"id":16,"name":"特碼合數單雙","isParlay":0},{"id":17,"name":"特碼色波","isParlay":0},{"id":18,"name":"特碼生肖","isParlay":0},{"id":19,"name":"生肖投注","isParlay":0},{"id":20,"name":"尾數投注","isParlay":0},{"id":21,"name":"正1特","isParlay":0},{"id":22,"name":"正2特","isParlay":0},{"id":23,"name":"正3特","isParlay":0},{"id":24,"name":"正4特","isParlay":0},{"id":25,"name":"正5特","isParlay":0},{"id":26,"name":"正6特","isParlay":0},{"id":27,"name":"正1-6合數單雙","isParlay":0},{"id":29,"name":"半波","isParlay":0},{"id":30,"name":"六肖","isParlay":1},{"id":31,"name":"五不中","isParlay":1},{"id":32,"name":"二肖連-中","isParlay":1},{"id":33,"name":"三肖連-中","isParlay":1},{"id":34,"name":"四肖連-中","isParlay":1},{"id":44,"name":"五肖連-中","isParlay":1},{"id":35,"name":"二肖連-不中","isParlay":1},{"id":36,"name":"三肖連-不中","isParlay":1},{"id":37,"name":"四肖連-不中","isParlay":1},{"id":45,"name":"五肖連-不中","isParlay":1},{"id":38,"name":"二尾連-中","isParlay":1},{"id":39,"name":"三尾連-中","isParlay":1},{"id":40,"name":"四尾連-中","isParlay":1},{"id":46,"name":"五尾連-中","isParlay":1},{"id":41,"name":"二尾連-不中","isParlay":1},{"id":42,"name":"三尾連-不中","isParlay":1},{"id":43,"name":"四尾連-不中","isParlay":1},{"id":47,"name":"五尾連-不中","isParlay":1},{"id":48,"name":"六不中","isParlay":1},{"id":49,"name":"七不中","isParlay":1},{"id":50,"name":"八不中","isParlay":1},{"id":51,"name":"九不中","isParlay":1},{"id":52,"name":"十不中","isParlay":1},{"id":53,"name":"七碼","isParlay":0},{"id":54,"name":"五行","isParlay":0},{"id":55,"name":"一肖量","isParlay":0},{"id":56,"name":"尾數量","isParlay":0},{"id":57,"name":"五中一","isParlay":1},{"id":58,"name":"六中一","isParlay":1},{"id":59,"name":"七中一","isParlay":1},{"id":60,"name":"八中一","isParlay":1},{"id":61,"name":"九中一","isParlay":1},{"id":62,"name":"十中一","isParlay":1},{"id":63,"name":"一粒任中","isParlay":1},{"id":64,"name":"二粒任中","isParlay":1},{"id":65,"name":"三粒任中","isParlay":1},{"id":66,"name":"四粒任中","isParlay":1},{"id":67,"name":"五粒任中","isParlay":1},{"id":68,"name":"龍虎","isParlay":0},{"id":69,"name":"一肖不中","isParlay":0},{"id":70,"name":"尾數不中","isParlay":0},{"id":75,"name":"二肖","isParlay":1},{"id":76,"name":"三肖","isParlay":1},{"id":77,"name":"四肖","isParlay":1},{"id":78,"name":"五肖","isParlay":1}]}';
const wager = JSON.parse(jstr);
export async function updateWager(conn: mariadb.PoolConnection) {
    const GameID: number = 1;
    let sql = "insert into BasePayRate(GameID,BetType,SubType,isParlay) values";
    const bts: IBTItem[] = wager.btLists;
    const vals: string[] = [];
    bts.map((itm) => {
        vals.push(`(${GameID},${itm.id},0,${itm.isParlay})`);
    });
    sql = sql + vals.join(",");
    sql = sql + " on duplicate key update isParlay=values(isParlay)";
    let ans;
    await conn.query(sql).then((row) => {
        ans = row;
    }).catch((err) => {
        ans = err;
    });
    return ans;
}
